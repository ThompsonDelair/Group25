<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable==no"/>
        <title>Fishin'</title>
        <script src="js/phaser.js"></script>
        <style>
            body{
                padding: 0px;
                margin: 0px;
/*                background: black;*/
            }
        </style>
    </head>
    <body>
        <script>
            
        console.log("hello!");    
        
        var gameScene = new Phaser.Scene('gameScene');    
        
        var score = 0;
        var fishTicks=0;
        var scoreText;
        var timedEvent;
        var clickable;
            
        var config = {
            type: Phaser.AUTO,
            width: 800,
            height: 600,
            scene: gameScene
        };
        
        var game = new Phaser.Game(config);
        
        
        gameScene.preload = function() {
            this.load.image('bread','images/bread.jpg');
            this.load.image('fish','images/Core values.png');
        }
        
        gameScene.create = function() {
            this.add.sprite(100,100,'bread');
            scoreText = this.add.text(16, 16, 'score: 0', { fontSize: '32px', fill: '#FFF' });
            
//            timer = game.time.create(false);
//            timer.loop(2000,fishTick,this);
//            timer.start();
            
            this.input.on('gameobjectdown', function (pointer, gameObject) {

        gameObject.destroy();

    });
            
            clickable = this.add.image(400,300,'fish').setInteractive();
            
            
            
            timedEvent = this.time.addEvent({delay:1500,callback: fishTick, callbackScope: this,repeat: 1});
        }
        
        gameScene.update = function() {
            // m1
            if(game.input.activePointer.isDown){
                score++;
                scoreText.setText('Score: ' + score);
                //console.log("mouse down");
            }
        }
        
        function fishTick(){
            //console.log("Total fish ticks: "+fishTicks);
            fishTicks++;
            timedEvent.reset({delay:1500,callback: fishTick, callbackScope: this,repeat: 1});
        }
            
        function listener(){
            console.log("click!");
        }
        
        
        </script>
    </body>
</html>